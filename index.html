<!doctype html>
<div id="autoDetect">Detecciones automáticas: —</div>
</div>


<div class="card">
<label>Fecha (timeline)</label>
<select id="dateCol"></select>
<label>Valor numérico</label>
<select id="numCol"></select>
<label>Categoría (barra)</label>
<select id="catCol"></select>
</div>


<div class="card">
<label>Latitud</label>
<select id="latCol"></select>
<label>Longitud</label>
<select id="lonCol"></select>
</div>


<div class="card small">
<button id="downloadFiltered">Descargar filtrado CSV</button>
</div>


</aside>


<section class="mainArea">
<div class="card charts">
<canvas id="lineChart"></canvas>
</div>


<div class="card charts">
<canvas id="barChart"></canvas>
</div>


<div class="card">
<div id="map"></div>
</div>


<div class="card">
<div id="log" class="log">Inicializando...</div>
</div>
</section>
</main>


<footer class="small">Asegurate de compartir la hoja como "Cualquiera con el enlace — Lector".</footer>


<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<!-- App JS -->
<script src="/script.js"></script>


<script>
// Registrar service worker (si el navegador lo permite)
if('serviceWorker' in navigator){
navigator.serviceWorker.register('/sw.js').then(()=> console.log('SW registrado')).catch(e=> console.warn('SW falló:', e));
}
</script>
</body>
</html>
